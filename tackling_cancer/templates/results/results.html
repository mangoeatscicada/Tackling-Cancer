<!DOCTYPE html>
<html>

  <head>
    <title>Results</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  
    <!-- Importing Bootstrap --> 
      <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

      <!-- jQuery library -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

      <!-- Latest compiled JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
      
      <!-- Importing Personal Stylesheet -->
        <link rel="stylesheet" href="static/stylesheets/results.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>
  </head>

  <body>
    
    <div class="container-fluid">
    
      <div class="row animate-bottom">
          <h1>Results</h1>
          <div class="col-sm-4 leftCol">
            <div><img src="static/images/biopsy1.jpg" alt="Sample" style="width:300px; height:300px; padding-bottom: 8%;" class="center-block"></div>
            <div><canvas id="chartjs-4" class="chartjs" style="display: block; height: 200px; width: 200px;" width: "100px" height="100px"></canvas></div>
          </div>
          
          <div class="col-sm-8">
                
                  {% for cell in result %}
                      <canvas id="{{ cell[0] }}" class="chartjs" style="display: block; height: 200px; width: 200px;" width: "100px" height="100px"></canvas>                
                    {% for line in cell %}
                      <p>{{ line }}</p>
                    {% endfor %}
                  {% endfor %}
        
          </div>
      </div>
    </div>
  </body>

  <script>
      new Chart(document.getElementById("chartjs-4"),{
        "type":"doughnut",
        "data":{
          "labels":["Blood","Cancer","Other"],
          "datasets":[{
            "label":"Biopsy Composition",
            "data": {{ typeStats }},
            "backgroundColor":[
              "rgb(255, 99, 132)",
              "rgb(255, 205, 86)",
              "rgb(54, 162, 235)",],
            "borderColor":[
              "#ccf2ff",
              "#ccf2ff",
              "#ccf2ff"]
              }]}});
  </script>

  <script>
    var result = {{ result|safe }};
    var resultLength = result.length;
    for (var i = 0; i < resultLength; i++) {
        new Chart(document.getElementById(result[i][0]),{
        "type":"horizontalBar",
        "data":{
          "labels":["Blood %","Cancer %","Other %"],
          "datasets":[{
            "label":"Confidence %",
            "data": [result[i][1],result[i][2],result[i][3]],
            "backgroundColor":[
              "rgb(255, 99, 132)",
              "rgb(255, 205, 86)",
              "rgb(54, 162, 235)",],
            "borderColor":[
              "#ccf2ff",
              "#ccf2ff",
              "#ccf2ff"]
              }]}});
    };
  </script>

  <script>
  $("#testText").hover(
    function(e){
      $("#tooltip").show();
    },
    function(e){
      $("#tooltip").hide();
    }
  );
  </script>

</html>